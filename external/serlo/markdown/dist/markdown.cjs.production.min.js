"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t,n,r,a=(e=require("showdown"))&&"object"==typeof e&&"default"in e?e.default:e,i={img:"src|width|height|alt",a:"href|name","*":"title",span:"class",table:"class",tr:"rowspan",td:"colspan|align",th:"rowspan|align",div:"class",b:"class",h1:"id",h2:"id",h3:"id",h4:"id",h5:"id",h6:"id"},s=new RegExp("^("+"a|b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|h4|h5|h6|i|img|li|ol|p|pre|sup|sub|strong|strike|ul|br|hr|span|table|th|tr|td|tbody|thead|tfoot|div".toLowerCase()+")$"),l=/<(\/?)\s*([\w:-]+)([^>]*)>/g,p=/(\s*)([\w:-]+)\s*=\s*(?:(?:(["'])([^\3]+?)(?:\3))|([^\s]+))/g;t=function(e){return function(e){return e.replace(n.regexp,n.replace)}(e)},n=function(){for(var e="",t=["*","`","_","{","}","[","]","<","\\"],n={},r=t.length,a=0;a<r;a++)e+="\\"+t[a],n[t[a]]="§LT"+a;return{regexp:e=new RegExp("(["+e+"])","gm"),replace:function(e){return n[e]||e}}}(),r=function(){for(var e=["*","`","_","{","}","[","]","&lt;","\\"],t={},n=e.length,r=0;r<n;r++)t[""+r]=e[r];return{regexp:new RegExp("§LT([0-9])","gm"),replace:function(e,n){return t[parseInt(n)]||n}}}(),exports.converter=new a.Converter({extensions:[function(){return[{type:"lang",filter:function(){var e,t,n,r={},a=/(?:^|\n)```(.*)\n([\s\S]*?)\n```/gm,i=["~D","%","\\|","/"];for(t=0,n=i.length;t<n;t++)r[i[t].replace(/\\/g,"")]="§SC"+t;function s(t,n,a){return"\n```"+n+"\n"+(a=a.replace(e,(function(e){return r[e]||e})))+"\n```"}return e=new RegExp("("+i.join("|")+")","gm"),function(e){return e.replace(a,s)}}()}]},function(){var e=new RegExp(/>\[(.*)\]\((.*)\)/g);return[{type:"lang",filter:function(t){return t.replace(e,(function(e,t,n){var r=function(e){return"http:"===(e=e.split("/"))[0]||"https:"===e[0]?e.join("/"):(""===e[0]&&e.shift(),"/"+e.join("/"))}(n);return/assets\.serlo\.org\/legacy\/.*\.xml/.test(r)?'<div class="legacy-injection">Legacy GeoGebra applets aren\'t supported anymore. Please upload the applet to GeoGebra instead.</div>':/assets\.serlo\.org\/legacy\//.test(r)?'<div>\n            <div class="injection"><a href="'+r+'" class="injection-link">'+t+'</a></div>\n            <div class="legacy-injection">Please don\'t use injections for images. Change <code>>[...](...)</code> to <code>![...](...)</code></div>\n          </div>':'<div class="injection"><a href="'+r+'" class="injection-link">'+t+"</a></div>"}))}}]},function(){var e,t={},n="text-align:left;";return t.th=function(t){return'<th style="'+n+'">'+e.makeHtml(t)+"</th>"},t.td=function(t){return'<td style="'+n+'">'+e.makeHtml(t)+"</td>"},t.ths=function(){for(var e="",n=0,r=[].slice.apply(arguments);n<r.length;n+=1)e+=t.th(r[n])+"\n";return e},t.tds=function(){for(var e="",n=0,r=[].slice.apply(arguments);n<r.length;n+=1)e+=t.td(r[n])+"\n";return e},t.thead=function(){var e,n=[].slice.apply(arguments);return e="<thead>\n",e+="<tr>\n",e+=t.ths.apply(this,n),(e+="</tr>\n")+"</thead>\n"},t.tr=function(){var e,n=[].slice.apply(arguments);return e="<tr>\n",(e+=t.tds.apply(this,n))+"</tr>\n"},[{type:"lang",filter:function(n,r){var a,i,s=0,l=n.split("\n"),p=[],u=[];for(e=r;s<l.length;s+=1){if((a=l[s]).trim().match(/^[|]{1}.*[|]{1}$/)){if(a=a.trim(),p.push('<div class="table-responsive">'),p.push('<table class="table table-striped">'),i=a.substring(1,a.length-1).split("|"),p.push(t.thead.apply(this,i)),(a=l[++s]).trim().match(/^[|]{1}[-=| ]+[|]{1}$/)){for(a=l[++s],p.push("<tbody>");a.trim().match(/^[|]{1}.*[|]{1}$/);)a=a.trim(),p.push(t.tr.apply(this,a.substring(1,a.length-1).split("|"))),a=l[++s];p.push("</tbody>"),p.push("</table>"),p.push("</div>"),u.push(p.join("\n")),p=[];continue}a=l[--s]}u.push(a)}return u.join("\n")}}]},function(){return[{type:"output",filter:function(e){return function(e){for(var t in i)i.hasOwnProperty(t)&&"string"==typeof i[t]&&(i[t]=new RegExp("^("+i[t].toLowerCase()+")$"));return e.replace(l,(function(e,t,n,r){var a,l,u="/"===r.substr(-1)?"/":"";return(n=n.toLowerCase()).match(s)?(l="*"in i&&i["*"],(a=n in i&&i[n])||l?(r=r.trim(),u&&(r=r.substr(0,r.length-1)),"<"+t+n+((r=r.replace(p,(function(e,t,n,r,i){return i||r?i||(i=r,r='"'):(i="",r='"'),"href"!==(n=n.toLowerCase())&&"src"!==n||"javascript:"!==i.trim().substr(0,"javascript:".length)&&"data:"!==i.trim().substr(0,"data:".length)||(i="#"),l&&n.match(l)||a&&n.match(a)?t+n+"="+r+i+r:""})))?" "+r:"")+u+">"):"<"+t+n+u+">"):""}))}(e)}}]},function(){return[{type:"lang",filter:function(e){return e=(e=e.replace(/(^|[^\\])(%%)([^\r]*?[^%])(%%?%)/gm,(function(n,r,a,i,s){var l=i;return l=(l=l.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),"%%%"===s&&(l+="% "),e=(e=e.replace(/\$/g,"\\$")).replace(/%/g,"\\%"),r+'<span class="mathInline">%%'+(l=t(l))+"%%</span>"}))).replace(/(^|[^\\])(¨D¨D)([^\r]*?[^~])\2(?!¨D)/gm,(function(n,r,a,i){var s=i;return s=(s=s.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),s=t(s),e=e.replace(/[^\\]¨D/g,"\\¨D"),r+'<span class="math">¨D¨D'+s+"¨D¨D</span>"}))}}]},function(){return[{type:"lang",regex:"\\B(\\\\)?@([\\S]+)\\b",replace:function(e,t,n){return"\\"===t?e:'<a class="user-mention" href="/user/profile/'+n+'">@'+n+"</a>"}},{type:"lang",regex:"\\\\@",replace:"@"}]},function(){return[{type:"lang",regex:"(~T){2}([^~]+)(~T){2}",replace:function(e,t,n,r){return"<del>"+n+"</del>"}}]},function(){var e=new RegExp(/^<p>=,sp. (.*)<\/p>([\s\S]*?)<p>=,sp.<\/p>/gm);return[{type:"output",filter:function(t){return t.replace(e,(function(e,t,n){return'<div class="spoiler panel panel-default"><div class="spoiler-teaser panel-heading"><span class="fa fa-caret-square-o-down"></span>'+t+'</div><div class="spoiler-content panel-body">'+n+"</div></div>"}))}}]},function(){var e=new RegExp(/^\/\/\/ (.*)\n([\s\S]*?)(\n|\r)+\/\/\//gm);return[{type:"lang",filter:function(t){return t.replace(e,(function(e,t,n){return"<p>=,sp. "+t+"</p>\n"+n+"<p>=,sp.</p>"}))}}]},function(){return[{type:"output",filter:function(e){return function(e){return e.replace(r.regexp,r.replace)}(e)}}]},function(){return[{type:"lang",filter:function(){var e,t,n,r=["~D","%","|","/"],a={};for(t=0,n=r.length;t<n;t++)a[""+t]=r[t];function i(e,t){return a[parseInt(t)]||t}return e=new RegExp("§SC([0-9])","gm"),function(t){return t.replace(e,i)}}()}]}]});
//# sourceMappingURL=markdown.cjs.production.min.js.map
